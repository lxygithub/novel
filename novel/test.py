# -*- coding: utf-8 -*-
"""
-------------------------------------------------
   File Name：     test
   Description :
   Author :       59432
   date：          2019/11/10
-------------------------------------------------
   Change Activity:
                   2019/11/10:
-------------------------------------------------
"""
import re
import textwrap

import requests
from scrapy import Selector

__author__ = '59432'

# resp = requests.get('http://www.quanben.io/', headers={
#     'user_agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_3) AppleWebKit/535.20 (KHTML, like Gecko) Chrome/19.0.1036.7 Safari/535.20'})

# print('123456789'[-1:])

# url_str = 'http://www.quanben.io/c/xuanhuan.html'
# for i in range(1, 50 + 1):
#     pass
#     print(url_str.replace('.html', str('_%d.html' % i)))
txt = '''
<li itemprop="itemListElement"><a href="/n/jueshishenyizhinitianmofei/1.html" itemprop="url"><span itemprop="name">第一章 穿越,夺舍</span></a></li>
'''
s = Selector(text=txt)
# print(str(s.xpath('//a/@href')))
txt1 = '''
myScript.src = '/index.php?c=book&a=read.jsonp&callback=c283fbe2be3052a48dddc9fd09092dd6&pinyin='+book+'&id='+id;
'''
pattern = re.compile("jsonp&callback=(.*?)&pinyin=")
# print(re.findall(pattern, txt1)[0])

txt2 = '''http://www.quanben.io/n/guantiwanzhengban/1.html'''
book = "".join(txt2.split('/')[-2:-1])
book_id = "".join(txt2.split('/')[-1:]).replace(".html", "")


content_more_url = "%s/index.php?c=book&a=read.jsonp&callback=%s&pinyin=%s&id=%s" % (
            "http://www.quanben.io","c283fbe2be3052a48dddc9fd09092dd6", book, book_id)

# print(content_more_url)
txt3 = '''
dc283fbe2be3052a48dddc9fd09092dd6({"content":"<p>\u201c\u5feb\u628a\u4ed6\u62c9\u51fa\u6765\uff0c\u5feb\u70b9\u201d\u3002\u5973\u8b66\u5f88\u7740\u6025\u7684\u8bf4\u9053\u3002<\/p><p>\u4e01\u957f\u751f\u770b\u7740\u62c9\u51fa\u6765\u7684\u8fd9\u4e2a\u80d6\u5b50\uff0c\u4e94\u5b98\u7aef\u6b63\uff0c\u4f46\u662f\u7531\u4e8e\u80a5\u8198\u592a\u591a\uff0c\u6574\u4e2a\u4eba\u663e\u5f97\u5f88\u81c3\u80bf\uff0c\u4e0d\u7531\u5f97\u53c8\u56de\u5934\u770b\u770b\u8eab\u8fb9\u7740\u6025\u7684\u5973\u8b66\uff0c\u5fc3\u60f3\uff0c\u8fd9\u5973\u4eba\u4ec0\u4e48\u773c\u5149\uff0c\u957f\u8fd9\u4e48\u6f02\u4eae\u5c45\u7136\u627e\u8fd9\u6837\u7684\u7537\u4eba\uff0c\u771f\u662f\u778e\u4e86\u773c\u4e86\u3002<\/p><p>\u201c\u4f60\uff0c\u770b\u770b\u4ed6\u600e\u4e48\u56de\u4e8b\uff1f\u201d\u5973\u8b66\u6162\u6162\u632a\u5230\u80d6\u5b50\u8eab\u8fb9\uff0c\u5374\u4e0d\u6562\u4f38\u624b\u53bb\u6478\u4ed6\uff0c\u4e01\u957f\u751f\u672c\u60f3\u4e00\u8d70\u4e86\u4e4b\uff0c\u4f46\u662f\u770b\u5230\u5973\u8b66\u5e26\u7740\u54ed\u8154\u7684\u6c42\u52a9\uff0c\u4ed6\u53c8\u4e0d\u5fcd\u5fc3\u4e86\u3002<\/p><p>\u4e01\u957f\u751f\u770b\u4e86\u770b\u80d6\u5b50\uff0c\u7528\u624b\u6307\u4f38\u5230\u80d6\u5b50\u7684\u9f3b\u5b50\u4e0b\u9762\uff0c\u611f\u89c9\u5230\u8fd8\u6709\u547c\u5438\u3002<\/p><p>\u201c\u5e94\u8be5\u6b7b\u4e0d\u4e86\uff0c\u8fd8\u4f1a\u5598\u6c14\u5462\u201d\u3002\u4e01\u957f\u751f\u5f88\u80af\u5b9a\u7684\u4e0b\u4e86\u7ed3\u8bba\u3002<\/p><p>\u201c\u771f\u7684\u5417\uff0c\u5927\u9e4f\uff0c\u5927\u9e4f\uff0c\u9192\u9192\u554a\uff0c\u5bc7\u5927\u9e4f\u2026\u2026\u201d\u5973\u8b66\u4e00\u8fb9\u558a\uff0c\u4e00\u8fb9\u7528\u624b\u6247\u7740\u80d6\u5b50\u7684\u8138\u86cb\u3002<\/p><p>\u201c\u5bc7\u5927\u9e4f\uff1f\u4e61\u957f\u4e0d\u662f\u4e5f\u53eb\u5bc7\u5927\u9e4f\u5417\uff1f\u96be\u9053\u8fd9\u5bb6\u4f19\u662f\u4e61\u957f\uff1f\u201d\u4e01\u957f\u751f\u4e00\u4e2a\u673a\u7075\uff0c\u8fd9\u4e0b\u53ef\u574f\u4e86\uff0c\u4e61\u957f*\u7684\u4e8b\u60c5\u8ba9\u81ea\u5df1\u77e5\u9053\u4e86\uff0c\u81ea\u5df1\u8fd8\u80fd\u6709\u597d\u554a\uff0c\u4e0d\u884c\uff0c\u8d76\u7d27\u8d70\uff0c\u4e8e\u662f\u6162\u6162\u7684\u5411\u540e\u9000\uff0c\u53ef\u662f\u521a\u60f3\u62d4\u817f\u5c31\u8dd1\u65f6\uff0c\u5c45\u7136\u88ab\u4e00\u5757\u77f3\u5934\u7eca\u5012\u4e86\u3002<\/p><p>\u201c\u4f60\u5e72\u4ec0\u4e48\uff1f\u8fd8\u4e0d\u8fc7\u6765\u5e2e\u5fd9\u201d\u3002\u5973\u8b66\u5bf9\u8dcc\u5012\u5728\u5730\u4e0a\u7684\u4e01\u957f\u751f\u558a\u9053\u3002<\/p><p>\u540e\u6765\u4e01\u957f\u751f\u624d\u77e5\u9053\uff0c\u4f30\u8ba1\u4e24\u4eba\u5728\u8f66\u91cc\u7684\u65f6\u95f4\u957f\u4e86\uff0c\u7531\u4e8e\u8f66\u7a97\u7d27\u95ed\uff0c\u8f66\u5185\u7a7a\u6c14\u4e0d\u8db3\uff0c\u800c\u5bc7\u5927\u9e4f\u7684\u8fd0\u52a8\u91cf\u53c8\u5927\uff0c\u7f3a\u6c27\u5bfc\u81f4\u660f\u8ff7\uff0c\u8981\u4e0d\u662f\u4e01\u957f\u751f\uff0c\u4f30\u8ba1\u4e24\u4eba\u90fd\u5f97\u7a92\u606f\u800c\u4ea1\u3002<\/p><p>\u4e0d\u4e00\u4f1a\uff0c\u5bc7\u5927\u9e4f\u60a0\u60a0\u9192\u8f6c\uff0c\u6ee1\u773c\u8ff7\u832b\u7684\u770b\u7740\u8eab\u8fb9\u7684\u4e24\u4eba\uff0c\u5f53\u770b\u5230\u4e01\u957f\u751f\u65f6\uff0c\u773c\u775b\u91cc\u66f4\u662f\u4e0d\u53ef\u601d\u8bae\u7684\u795e\u8272\u3002\u540c\u65f6\u8fd8\u6709\u9707\u60ca\uff0c\u4e8e\u662f\u770b\u5411\u5973\u4eba\uff0c\u5973\u4eba\u6447\u6447\u5934\uff0c\u793a\u610f\u4ed6\u4ec0\u4e48\u4e5f\u4e0d\u8981\u8bf4\u3002<\/p><p>\u201c\u59d0\u59d0\uff0c\u65e2\u7136\u5bc7\u4e61\u957f\u9192\u4e86\uff0c\u90a3\u6211\u5c31\u5148\u56de\u53bb\u4e86\u201d\u3002\u4e01\u957f\u751f\u8bf4\u9053\uff0c\u4ed6\u4e0d\u8bf4\u8fd9\u53e5\u8bdd\u8fd8\u597d\uff0c\u8bf4\u4e86\u8fd9\u53e5\u8bdd\uff0c\u5bc7\u5927\u9e4f\u600e\u4e48\u80fd\u8ba9\u4ed6\u8d70\u5462\uff0c\u4e8e\u662f\u4f7f\u4e86\u773c\u8272\u7ed9\u5973\u4eba\u3002<\/p><p>\u201c\u5e74\u8f7b\u4eba\uff0c\u522b\u5fd9\u7740\u8d70\uff0c\u5750\u4e0b\u6765\u6211\u4eec\u8bf4\u8bf4\u8bdd\u201d\u3002\u5bc7\u5927\u9e4f\u8bf4\u9053\u3002<\/p><p>\u4e01\u957f\u751f\u867d\u7136\u5e74\u8f7b\uff0c\u4f46\u662f\u5c0f\u8bf4\u6ca1\u5c11\u770b\uff0c\u4ed6\u77e5\u9053\u8fd9\u4e2a\u65f6\u5019\u6700\u6709\u53ef\u80fd\u53d1\u751f\u7684\u5c31\u662f\u6740\u4eba\u706d\u53e3\uff0c\u4e8e\u662f\u4ed6\u8e72\u5728\u4e0d\u8fdc\u5904\uff0c\u770b\u7740\u8fd9\u4e00\u7537\u4e00\u5973\uff0c\u968f\u65f6\u51c6\u5907\u62d4\u817f\u5c31\u8dd1\u3002<\/p>"});

'''

txt4 = re.findall(re.compile("content\":\"(.*?)\"}\);"),txt3)[0].replace('<p>','\n').replace('<\/p>',"")
list1 = ["111111","22222","44444","33333"]
# print("\n".join(list1))
# print(textwrap.fill(text=txt4))

txt5 = '''
<p>\\u201c\\u5feb\\u628a\\u4ed6\\u62c9\\u51fa\\u6765\\uff0c\\u5feb\\u70b9\\u201d\\u3002\\u5973\\u8b66\\u5f88\\u7740\\u6025\\u7684\\u8bf4\\u9053\\u3002<\\/p><p>\\u4e01\\u957f\\u751f\\u770b\\u7740\\u62c9\\u51fa\\u6765\\u7684\\u8fd9\\u4e2a\\u80d6\\u5b50\\uff0c\\u4e94\\u5b98\\u7aef\\u6b63\\uff0c\\u4f46\\u662f\\u7531\\u4e8e\\u80a5\\u8198\\u592a\\u591a\\uff0c\\u6574\\u4e2a\\u4eba\\u663e\\u5f97\\u5f88\\u81c3\\u80bf\\uff0c\\u4e0d\\u7531\\u5f97\\u53c8\\u56de\\u5934\\u770b\\u770b\\u8eab\\u8fb9\\u7740\\u6025\\u7684\\u5973\\u8b66\\uff0c\\u5fc3\\u60f3\\uff0c\\u8fd9\\u5973\\u4eba\\u4ec0\\u4e48\\u773c\\u5149\\uff0c\\u957f\\u8fd9\\u4e48\\u6f02\\u4eae\\u5c45\\u7136\\u627e\\u8fd9\\u6837\\u7684\\u7537\\u4eba\\uff0c\\u771f\\u662f\\u778e\\u4e86\\u773c\\u4e86\\u3002<\\/p><p>\\u201c\\u4f60\\uff0c\\u770b\\u770b\\u4ed6\\u600e\\u4e48\\u56de\\u4e8b\\uff1f\\u201d\\u5973\\u8b66\\u6162\\u6162\\u632a\\u5230\\u80d6\\u5b50\\u8eab\\u8fb9\\uff0c\\u5374\\u4e0d\\u6562\\u4f38\\u624b\\u53bb\\u6478\\u4ed6\\uff0c\\u4e01\\u957f\\u751f\\u672c\\u60f3\\u4e00\\u8d70\\u4e86\\u4e4b\\uff0c\\u4f46\\u662f\\u770b\\u5230\\u5973\\u8b66\\u5e26\\u7740\\u54ed\\u8154\\u7684\\u6c42\\u52a9\\uff0c\\u4ed6\\u53c8\\u4e0d\\u5fcd\\u5fc3\\u4e86\\u3002<\\/p><p>\\u4e01\\u957f\\u751f\\u770b\\u4e86\\u770b\\u80d6\\u5b50\\uff0c\\u7528\\u624b\\u6307\\u4f38\\u5230\\u80d6\\u5b50\\u7684\\u9f3b\\u5b50\\u4e0b\\u9762\\uff0c\\u611f\\u89c9\\u5230\\u8fd8\\u6709\\u547c\\u5438\\u3002<\\/p><p>\\u201c\\u5e94\\u8be5\\u6b7b\\u4e0d\\u4e86\\uff0c\\u8fd8\\u4f1a\\u5598\\u6c14\\u5462\\u201d\\u3002\\u4e01\\u957f\\u751f\\u5f88\\u80af\\u5b9a\\u7684\\u4e0b\\u4e86\\u7ed3\\u8bba\\u3002<\\/p><p>\\u201c\\u771f\\u7684\\u5417\\uff0c\\u5927\\u9e4f\\uff0c\\u5927\\u9e4f\\uff0c\\u9192\\u9192\\u554a\\uff0c\\u5bc7\\u5927\\u9e4f\\u2026\\u2026\\u201d\\u5973\\u8b66\\u4e00\\u8fb9\\u558a\\uff0c\\u4e00\\u8fb9\\u7528\\u624b\\u6247\\u7740\\u80d6\\u5b50\\u7684\\u8138\\u86cb\\u3002<\\/p><p>\\u201c\\u5bc7\\u5927\\u9e4f\\uff1f\\u4e61\\u957f\\u4e0d\\u662f\\u4e5f\\u53eb\\u5bc7\\u5927\\u9e4f\\u5417\\uff1f\\u96be\\u9053\\u8fd9\\u5bb6\\u4f19\\u662f\\u4e61\\u957f\\uff1f\\u201d\\u4e01\\u957f\\u751f\\u4e00\\u4e2a\\u673a\\u7075\\uff0c\\u8fd9\\u4e0b\\u53ef\\u574f\\u4e86\\uff0c\\u4e61\\u957f*\\u7684\\u4e8b\\u60c5\\u8ba9\\u81ea\\u5df1\\u77e5\\u9053\\u4e86\\uff0c\\u81ea\\u5df1\\u8fd8\\u80fd\\u6709\\u597d\\u554a\\uff0c\\u4e0d\\u884c\\uff0c\\u8d76\\u7d27\\u8d70\\uff0c\\u4e8e\\u662f\\u6162\\u6162\\u7684\\u5411\\u540e\\u9000\\uff0c\\u53ef\\u662f\\u521a\\u60f3\\u62d4\\u817f\\u5c31\\u8dd1\\u65f6\\uff0c\\u5c45\\u7136\\u88ab\\u4e00\\u5757\\u77f3\\u5934\\u7eca\\u5012\\u4e86\\u3002<\\/p><p>\\u201c\\u4f60\\u5e72\\u4ec0\\u4e48\\uff1f\\u8fd8\\u4e0d\\u8fc7\\u6765\\u5e2e\\u5fd9\\u201d\\u3002\\u5973\\u8b66\\u5bf9\\u8dcc\\u5012\\u5728\\u5730\\u4e0a\\u7684\\u4e01\\u957f\\u751f\\u558a\\u9053\\u3002<\\/p><p>\\u540e\\u6765\\u4e01\\u957f\\u751f\\u624d\\u77e5\\u9053\\uff0c\\u4f30\\u8ba1\\u4e24\\u4eba\\u5728\\u8f66\\u91cc\\u7684\\u65f6\\u95f4\\u957f\\u4e86\\uff0c\\u7531\\u4e8e\\u8f66\\u7a97\\u7d27\\u95ed\\uff0c\\u8f66\\u5185\\u7a7a\\u6c14\\u4e0d\\u8db3\\uff0c\\u800c\\u5bc7\\u5927\\u9e4f\\u7684\\u8fd0\\u52a8\\u91cf\\u53c8\\u5927\\uff0c\\u7f3a\\u6c27\\u5bfc\\u81f4\\u660f\\u8ff7\\uff0c\\u8981\\u4e0d\\u662f\\u4e01\\u957f\\u751f\\uff0c\\u4f30\\u8ba1\\u4e24\\u4eba\\u90fd\\u5f97\\u7a92\\u606f\\u800c\\u4ea1\\u3002<\\/p><p>\\u4e0d\\u4e00\\u4f1a\\uff0c\\u5bc7\\u5927\\u9e4f\\u60a0\\u60a0\\u9192\\u8f6c\\uff0c\\u6ee1\\u773c\\u8ff7\\u832b\\u7684\\u770b\\u7740\\u8eab\\u8fb9\\u7684\\u4e24\\u4eba\\uff0c\\u5f53\\u770b\\u5230\\u4e01\\u957f\\u751f\\u65f6\\uff0c\\u773c\\u775b\\u91cc\\u66f4\\u662f\\u4e0d\\u53ef\\u601d\\u8bae\\u7684\\u795e\\u8272\\u3002\\u540c\\u65f6\\u8fd8\\u6709\\u9707\\u60ca\\uff0c\\u4e8e\\u662f\\u770b\\u5411\\u5973\\u4eba\\uff0c\\u5973\\u4eba\\u6447\\u6447\\u5934\\uff0c\\u793a\\u610f\\u4ed6\\u4ec0\\u4e48\\u4e5f\\u4e0d\\u8981\\u8bf4\\u3002<\\/p><p>\\u201c\\u59d0\\u59d0\\uff0c\\u65e2\\u7136\\u5bc7\\u4e61\\u957f\\u9192\\u4e86\\uff0c\\u90a3\\u6211\\u5c31\\u5148\\u56de\\u53bb\\u4e86\\u201d\\u3002\\u4e01\\u957f\\u751f\\u8bf4\\u9053\\uff0c\\u4ed6\\u4e0d\\u8bf4\\u8fd9\\u53e5\\u8bdd\\u8fd8\\u597d\\uff0c\\u8bf4\\u4e86\\u8fd9\\u53e5\\u8bdd\\uff0c\\u5bc7\\u5927\\u9e4f\\u600e\\u4e48\\u80fd\\u8ba9\\u4ed6\\u8d70\\u5462\\uff0c\\u4e8e\\u662f\\u4f7f\\u4e86\\u773c\\u8272\\u7ed9\\u5973\\u4eba\\u3002<\\/p><p>\\u201c\\u5e74\\u8f7b\\u4eba\\uff0c\\u522b\\u5fd9\\u7740\\u8d70\\uff0c\\u5750\\u4e0b\\u6765\\u6211\\u4eec\\u8bf4\\u8bf4\\u8bdd\\u201d\\u3002\\u5bc7\\u5927\\u9e4f\\u8bf4\\u9053\\u3002<\\/p><p>\\u4e01\\u957f\\u751f\\u867d\\u7136\\u5e74\\u8f7b\\uff0c\\u4f46\\u662f\\u5c0f\\u8bf4\\u6ca1\\u5c11\\u770b\\uff0c\\u4ed6\\u77e5\\u9053\\u8fd9\\u4e2a\\u65f6\\u5019\\u6700\\u6709\\u53ef\\u80fd\\u53d1\\u751f\\u7684\\u5c31\\u662f\\u6740\\u4eba\\u706d\\u53e3\\uff0c\\u4e8e\\u662f\\u4ed6\\u8e72\\u5728\\u4e0d\\u8fdc\\u5904\\uff0c\\u770b\\u7740\\u8fd9\\u4e00\\u7537\\u4e00\\u5973\\uff0c\\u968f\\u65f6\\u51c6\\u5907\\u62d4\\u817f\\u5c31\\u8dd1\\u3002<\\/p>
'''
txt6=txt5.replace('\\\\','\\')
# print(bytes(txt6,encoding='utf8').decode('utf8'))

# txt7 = '''
# INSERT INTO chapters_table_%s
# '''
# print(txt7 % "table_name")
# from novel.SQL import Sql
# print(Sql.count_rows('chapters_table_3'))

import shutil

shutil.rmtree("D:\Documents\python_projects\novel\.scrapy\httpcache\novel\3d")    #递归非空文件夹
